
1.0rizovictanjaJavaFrontend"1756238119719*java2.B’5
;
6src/main/java/com/pki/example/service/UserService.java2
	
type3
	
MAIN4

package6

com.pki.example.service7
(
#com.pki.example.service.UserService9

class10

access11

public12

simple-name13

UserService14
0
*Recovered#typeBindingLUserDetailsService;016

unknown17


implements18

Service20

annotated by21
%
Recovered#typeBindingLService;023


uses24
8
2com.pki.example.service.UserService.userRepository26

field27

private28

userRepository29
/
)com.pki.example.repository.UserRepository31

is type32
9
3com.pki.example.service.UserService.passwordEncoder34

passwordEncoder35

PasswordEncoder37
9
3com.pki.example.service.UserService.keystoreService39

keystoreService40
-
'com.pki.example.service.KeystoreService42
4
.com.pki.example.service.UserService.tokenUtils44


tokenUtils45
%
com.pki.example.util.TokenUtils47

	Autowired49
'
!Recovered#typeBindingLAutowired;051
?
9com.pki.example.service.UserService.authenticationManager53

authenticationManager54

AuthenticationManager56
1
+com.pki.example.service.UserService.request58

request59

HttpServletRequest61
6
0com.pki.example.service.UserService.activeTokens63

activeTokens64
%
com.pki.example.model.TokenInfo66
5
/com.pki.example.service.UserService.jtiToJwtMap68

jtiToJwtMap69
5
/com.pki.example.service.UserService.roleService71

roleService72
)
#com.pki.example.service.RoleService74
0
*com.pki.example.service.UserService.logger76

logger77

Logger79
:
4com.pki.example.service.UserService.recaptchaService81

recaptchaService82
.
(com.pki.example.service.RecaptchaService84
—
 com.pki.example.service.UserService#<init>(Lcom/pki/example/repository/UserRepository;LPasswordEncoder;Lcom/pki/example/service/KeystoreService;Lcom/pki/example/util/TokenUtils;LAuthenticationManager;)V86

method87

	has param88
-
'Recovered#typeBindingLPasswordEncoder;090
3
-Recovered#typeBindingLAuthenticationManager;092

calls93


references94
5
/com.pki.example.service.UserService.keycloakUrl96

keycloakUrl97

Value99
$
Recovered#typeBindingLValue;0101
0
)com.pki.example.service.UserService.realm103

realm104
@
9com.pki.example.service.UserService.keycloakAdminUsername106

keycloakAdminUsername107
@
9com.pki.example.service.UserService.keycloakAdminPassword109

keycloakAdminPassword110
7
0com.pki.example.service.UserService.emailService112

emailService113
+
$com.pki.example.service.EmailService115
b
[com.pki.example.service.UserService#register(Lcom/pki/example/dto/UserDTO;)LResponseEntity;117

register118

ResponseEntity120

returns121
"
com.pki.example.dto.UserDTO123

Transactional125
,
%Recovered#typeBindingLTransactional;0127
?
8com.pki.example.dto.UserDTO#getEmail()Ljava/lang/String;129
B
;com.pki.example.dto.UserDTO#getPassword()Ljava/lang/String;131
I
Bcom.pki.example.dto.UserDTO#getConfirmPassword()Ljava/lang/String;133
S
Lcom.pki.example.repository.UserRepository#existsByEmail(Ljava/lang/String;)Z135
I
Bcom.pki.example.service.KeystoreService#generateRandomPassword()[C137
l
ecom.pki.example.service.KeystoreService#encryptUserSymmetricKey(Ljava/lang/String;)Ljava/lang/String;139
!
com.pki.example.model.User141
?
8com.pki.example.model.User#setEmail(Ljava/lang/String;)V143
B
;com.pki.example.model.User#setPassword(Ljava/lang/String;)V145
>
7com.pki.example.model.User#setName(Ljava/lang/String;)V147
>
7com.pki.example.dto.UserDTO#getName()Ljava/lang/String;149
A
:com.pki.example.model.User#setSurname(Ljava/lang/String;)V151
A
:com.pki.example.dto.UserDTO#getSurname()Ljava/lang/String;153
F
?com.pki.example.model.User#setOrganization(Ljava/lang/String;)V155
F
?com.pki.example.dto.UserDTO#getOrganization()Ljava/lang/String;157
S
Lcom.pki.example.model.User#setEncryptedUserSymmetricKey(Ljava/lang/String;)V159
2
+com.pki.example.model.User#setActivated(Z)V161
0
)com.pki.example.model.User#setEnabled(Z)V163
M
Fcom.pki.example.model.User#setCreationTime(Ljava/time/LocalDateTime;)V165
I
Bcom.pki.example.model.User#setActivationToken(Ljava/lang/String;)V167
!
com.pki.example.model.Role169
Y
Rcom.pki.example.service.RoleService#findByName(Ljava/lang/String;)Ljava/util/List;171
=
6com.pki.example.model.User#setRoles(Ljava/util/List;)V173
d
]com.pki.example.service.UserService#createKeycloakUser(Ljava/lang/String;Ljava/lang/String;)V175
f
_com.pki.example.service.EmailService#sendActivationEmail(Ljava/lang/String;Ljava/lang/String;)V177
>
7com.pki.example.model.User#getEmail()Ljava/lang/String;179

createKeycloakUser180
+
$Recovered#typeBindingLRestTemplate;0182
,
%Recovered#typeBindingLMultiValueMap;0184
*
#Recovered#typeBindingLHttpHeaders;0186
-
&Recovered#typeBindingLResponseEntity;0188
+
$Recovered#typeBindingLObjectMapper;0190
'
 Recovered#typeBindingLJsonNode;0192
7
0Recovered#typeBindingLHttpClientErrorException;0194
x
qcom.pki.example.service.UserService#login(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)LResponseEntity;196

login197
K
Dcom.pki.example.service.RecaptchaService#verify(Ljava/lang/String;)Z199
n
gcom.pki.example.util.TokenUtils#loginToKeycloak(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;201
6
/com.pki.example.util.TokenUtils#getExpiredIn()I203
&
com.pki.example.dto.JwtResponse205
[
Tcom.pki.example.service.UserService#activateUser(Ljava/lang/String;)LResponseEntity;207

activateUser208
n
gcom.pki.example.repository.UserRepository#findByActivationToken(Ljava/lang/String;)Ljava/util/Optional;210
m
fcom.pki.example.service.UserService#loadUserByUsername(Ljava/lang/String;)Lcom/pki/example/model/User;212

loadUserByUsername213
 
UsernameNotFoundException215
l
ecom.pki.example.repository.UserRepository#findByEmail(Ljava/lang/String;)Lcom/pki/example/model/User;217
Z
Scom.pki.example.service.UserService#getRole(Ljava/lang/Integer;)Ljava/lang/Integer;219

getRole220
k
dcom.pki.example.repository.UserRepository#findRoleIdByUserId(Ljava/lang/Integer;)Ljava/lang/Integer;222
e
^com.pki.example.service.UserService#getActiveTokensForUser(Ljava/lang/String;)Ljava/util/List;224

getActiveTokensForUser225
'
 com.pki.example.dto.TokenInfoDTO227
C
<com.pki.example.model.TokenInfo#getEmail()Ljava/lang/String;229
g
`com.pki.example.service.UserService#getEmailFromTokenByJti(Ljava/lang/String;)Ljava/lang/String;231

getEmailFromTokenByJti232
^
Wcom.pki.example.util.TokenUtils#getEmailFromToken(Ljava/lang/String;)Ljava/lang/String;234
]
Vcom.pki.example.service.UserService#revokeToken(Ljava/lang/String;Ljava/lang/String;)Z236

revokeToken237
A
:com.pki.example.model.TokenInfo#getSub()Ljava/lang/String;239J

1
12


3
4Z

5	
576jµ

214
21421517
G
235@
23523687 *
1ã ã(28:5B


11
12

13
237

138
13813917
A
75;
757627 *
1D D(28:5B


11
28


13
77
A
95;
959627 *
1U U(28:5B


11
28


13
97
G
230@
23023187 *
1Ñ Ñ(28:5B


11
12

13
232

162
16216317

15
151617
A
57;
575827 *
1: :(28:5B


11
28


13
59

73
737417

142
14214317

181
18118217

60
606117

164
16416517

154
15415517
E
116>
11611787 *
1g g(28:5B


11
12

13
118

89
899017

132
13213317
G
195@
19519687 *
1Ü Ü(28:5B


11
12

13
197
G
206@
20620787 *
1◊ ◊(28:5B


11
12

13
208

46
464717

200
20020117

176
17617717

122
12212317

228
22822917
E
108>
10810927 *
1^ ^(28:5B


11
28

13
110

187
18718817
E
102>
10210327 *
1X X(28:5B


11
28

13
104
G
174@
17417587 *
1¨ ¨(28:5B


11
28

13
180

209
20921017

36
363717
A
43;
434427 *
14 4(28:5B


11
28


13
45

22
222317

100
10010117
G
218@
21821987 *
1Û Û(28:5B


11
12

13
220
A
52;
525327 *
17 7(28:5B


11
28


13
54
A
67;
676827 *
1> >(28:5B


11
28


13
69
E
111>
11111227 *
1d d(28:5B


11
28

13
113

233
23323417

114
11411517

166
16616717

152
15215317

216
21621717

136
13613717
A
70;
707127 *
1@ @(28:5B


11
28


13
72

98
989917

221
22122217

65
656617

83
838417

198
19819917

124
12412517

148
14814917
A
33;
333427 *
10 0(28:5B


11
28


13
35

191
19119217

126
12612717

78
787917

144
14414517

238
23823917

202
20220317

30
303117

160
16016117

156
15615717

140
14014117

170
17017117
G
223@
22322487 *
1˜ ˜(28:5B


11
12

13
225

48
484917

41
414217
;
86
8910 *
1+ +(:5B


11
12


13
14
A
38;
383927 *
12 2(28:5B


11
28


13
40

91
919217

172
17217317

185
18518617

226
22622717

183
18318417

130
13013117

189
18919017

204
20420517

178
17817917
G
211@
21121287 *
1Ë Ë(28:5B


11
12

13
213

19
192017

134
13413517

150
15015117

146
14614717

55
555617
A
80;
808127 *
1E E(28:5B


11
28


13
82

128
12812917

119
11912017
E
105>
10510627 *
1[ [(28:5B


11
28

13
107

50
505117
A
25;
252627 *
1. .(28:5B


11
28


13
29

193
19319417
A
85;
858687 *
1I I(28:5B


11
12


13
14

168
16816917
A
62;
626327 *
1= =(28:5B


11
12


13
64

158
15815917rô\

81518*
1+% +(7

81921*
1* *(

82224*
1* *(	

81524*
1+% +(7

253032*
1. .(!

253024*
1. .(!

253024*
1." .(0

333632*
10 0("

333624*
10 0("

333624*
10# 0(2

384132*
12 2(

384124*
12 2(

384124*
12 2(,

434632*
15 5(

434821*
14 4(

435024*
14 4(

434624*
15 5(

434624*
15 5("

525532*
18 8("

524821*
17 7(

525024*
17 7(

525524*
18 8("

525524*
18# 8(8

576032*
1; ;(

574821*
1: :(

575024*
1: :(

576024*
1; ;(

576024*
1;  ;('

626524*
1= =(!

707332*
1A A(

704821*
1@ @(

705024*
1@ @(

707324*
1A A(

707324*
1A A($

757832*
1D D( 

757824*
1D D( 

757824*
1D! D('

75824*
1DB D(M

808332*
1F F(

804821*
1E E(

805024*
1E E(

808324*
1F F(

808324*
1F F(.

853088*
1J J(&

858988*
1J7 J(F

854188*
1JX J(g

854688*
1Jy J(É

859188*
1Jê J(•

854821*
1I I(

855024*
1I I(

85893*
1J J(

853032*
1J' J(5

853024*
1J J(&

858932*
1JG J(V

858924*
1J7 J(F

854132*
1Jh J(w

854124*
1JX J(g

854632*
1JÑ J(é

854624*
1Jy J(É

859132*
1J¶ J(ª

859124*
1Jê J(•

85824*
1L	 L(

85894*
1L	 L(

853024*
1L L(

852594*
1L L(

85824*
1M	 M(

85894*
1M	 M(

853624*
1M M(

853394*
1M M(

85824*
1N	 N(

85894*
1N	 N(

854624*
1N N(

854394*
1N N(

85824*
1O	 O(

85894*
1O	 O(

855524*
1O O(#

855294*
1O O(#

85824*
1P	 P(

85894*
1P	 P(

854124*
1P P(

853894*
1P P(

959821*
1U U(

9510024*
1U U(

1029821*
1X X(

10210024*
1X X(

1059821*
1[ [(

10510024*
1[ [(

1089821*
1^ ^(

10810024*
1^ ^(

11111432*
1e e(

1114821*
1d d(

1115024*
1d d(

11111424*
1e e(

11111424*
1e e(&

116119121*
1h h('

11612288*
1h4 h(;

11612421*
1g g(

11612624*
1g g(

11611924*
1h h('

11612232*
1h< h(C

11612224*
1h4 h(;

1167594*
1i	 i(

1167824*
1i	 i(

1167594*
1i	 i(

11612294*
1i; i(B

11612893*
1iC i(K

11612294*
1k k(

11613093*
1k k(!

11612294*
1k+ k(2

11613293*
1k3 k(E

1167594*
1l l(

1167824*
1l l(

1167594*
1l l(

11612294*
1l< l(C

11612893*
1lD l(L

11612294*
1p p(

11612893*
1p p(

11612294*
1p+ p(2

11612893*
1p3 p(;

1167594*
1q q(

1167824*
1q q(

1167594*
1q q(

11612294*
1t t(

11613093*
1t t( 

11612294*
1t. t(5

11613093*
1t6 t(A

1167594*
1u u(

1167824*
1u u(

1167594*
1u u(

11612294*
1u5 u(<

11612893*
1u= u(E

1163094*
1y y(

11613493*
1y y()

1162594*
1y y(

1163024*
1y y(

1162594*
1y y(

11612294*
1y* y(1

11612893*
1y2 y(:

1164194*
1}# }(2

11613693*
1}3 }(I

1163894*
1}# }(2

1164124*
1}# }(2

1163894*
1}# }(2

1164194*
1# (2

11613893*
13 (J

1163894*
1# (2

1164124*
1# (2

1163894*
1# (2

11614032*
1Ö Ö(

11614024*
1Ö	 Ö(

11614093*
1Ö Ö(

11614094*
1á	 á(

11614293*
1á á(

11612294*
1á á(

11612893*
1á á('

11614094*
1à	 à(

11614493*
1à à(

1163394*
1à à()

1163624*
1à à()

1163394*
1à à()

11612294*
1à1 à(8

11613093*
1à9 à(D

11614094*
1ã	 ã(

11614693*
1ã ã(

11612294*
1ã4 ã(;

11614893*
1ã< ã(C

11614094*
1å	 å(

11615093*
1å å(

11612294*
1å7 å(>

11615293*
1å? å(I

11614094*
1ç	 ç(

11615493*
1ç ç(

11612294*
1ç< ç(C

11615693*
1çD ç(S

11614094*
1é	 é(

11615893*
1é é(*

11614094*
1ê	 ê(

11616093*
1ê ê(

11614094*
1ë	 ë(

11616293*
1ë ë(

11614094*
1í	 í(

11616493*
1í í(

11614094*
1ï	 ï(

11616693*
1ï ï( 

11616824*
1ò ò(

1167394*
1ò ò('

11617093*
1ò( ò(2

1167094*
1ò ò('

1167324*
1ò ò('

1167094*
1ò ò('

11614094*
1ô	 ô(

11617293*
1ô ô(

1162594*
1õ	 õ(

1163024*
1õ	 õ(

1162594*
1õ	 õ(

116894*
1ü ü(

11617493*
1ü ü(

11612294*
1ü  ü('

11612893*
1ü( ü(0

11612294*
1ü4 ü(;

11613093*
1ü< ü(G

1167594*
1† †(

1167824*
1† †(

1167594*
1† †(

11612294*
1†> †(E

11612893*
1†F †(N

1167594*
1¢ ¢(

1167824*
1¢ ¢(

1167594*
1¢ ¢(

11612294*
1¢M ¢(T

11612893*
1¢U ¢(]

11611494*
1¶	 ¶(

11617693*
1¶ ¶()

11611194*
1¶	 ¶(

11611424*
1¶	 ¶(

11611194*
1¶	 ¶(

11614094*
1¶* ¶(.

11617893*
1¶/ ¶(7

1167594*
1®	 ®(

1167824*
1®	 ®(

1167594*
1®	 ®(

11614094*
1®9 ®(=

11617893*
1®> ®(F

11612293*
1©C ©(J

17418132*
1≠ ≠(

17418124*
1≠ ≠(

1749594*
1±  ±(+

1747594*
1≤	 ≤(

1747824*
1≤	 ≤(

1747594*
1≤	 ≤(

17418332*
1¥' ¥(+

17418324*
1¥	 ¥(

17410594*
1∑ ∑(3

17410894*
1∏ ∏(3

17418532*
1∫ ∫(

17418524*
1∫	 ∫(

17418732*
1Ω  Ω((

17418724*
1Ω	 Ω(

17418932*
1æ æ(

17418924*
1æ	 æ(

1747594*
1¿	 ¿(

1747824*
1¿	 ¿(

1747594*
1¿	 ¿(

17418532*
1¬ ¬( 

17418524*
1¬	 ¬(

1749594*
1« «('

17418732*
1»  »(.

17418724*
1»	 »(

17419132*
1… …(

17419124*
1…	 …(

1747594*
1Œ Œ(

1747824*
1Œ Œ(

1747594*
1Œ Œ(

1749594*
1’ ’()

1749594*
1‹ ‹()

1747594*
1ﬂ ﬂ(

1747824*
1ﬂ ﬂ(

1747594*
1ﬂ ﬂ(

17418732*
1$ (2

17418724*
1 (

1749594*
1Ò Ò( 

1747594*
1˜ ˜(

1747824*
1˜ ˜(

1747594*
1˜ ˜(

1747594*
1˘ ˘(

1747824*
1˘ ˘(

1747594*
1˘ ˘(

17419332*
1˝' ˝((

17419324*
1˝ ˝(&

1747594*
1˛	 ˛(

1747824*
1˛	 ˛(

1747594*
1˛	 ˛(

1747594*
1Ä	 Ä(

1747824*
1Ä	 Ä(

1747594*
1Ä	 Ä(

195119121*
1Ü Ü(

19511924*
1Ü Ü(

1957594*
1á	 á(

1957824*
1á	 á(

1957594*
1á	 á(

1958394*
1ä ä(

19519893*
1ä ä(%

1958094*
1ä ä(

1958324*
1ä ä(

1958094*
1ä ä(

1957594*
1ã ã(

1957824*
1ã ã(

1957594*
1ã ã(

1954694*
1ë$ ë(.

19520093*
1ë/ ë(>

1954394*
1ë$ ë(.

1954624*
1ë$ ë(.

1954394*
1ë$ ë(.

1957594*
1ì ì(

1957824*
1ì ì(

1957594*
1ì ì(

1956532*
1ô ô( 

1956524*
1ô ô(

1956593*
1ô' ô(0

1955794*
1ú ú(

1956024*
1ú ú(

1955794*
1ú ú(

1955794*
1ù ù(

1956024*
1ù ù(

1955794*
1ù ù(

19565121*
1° °(

1956294*
1° °(

1956294*
1° °(

1956794*
1¢ ¢(

1956794*
1¢ ¢(

1954694*
1§ §('

19520293*
1§( §(4

1954394*
1§ §('

1954624*
1§ §('

1954394*
1§ §('

1957594*
1¶ ¶(

1957824*
1¶ ¶(

1957594*
1¶ ¶(

1955794*
1ß ß(

1956024*
1ß ß(

1955794*
1ß ß(

1955794*
1ß. ß(5

1956024*
1ß. ß(5

1955794*
1ß. ß(5

19520493*
1©* ©(5

1957594*
1¨ ¨(

1957824*
1¨ ¨(

1957594*
1¨ ¨(

206119121*
1◊ ◊(

20611924*
1◊ ◊(

20614024*
1ÿ ÿ(

2063094*
1ÿ' ÿ(5

20620993*
1ÿ6 ÿ(K

2062594*
1ÿ' ÿ(5

2063024*
1ÿ' ÿ(5

2062594*
1ÿ' ÿ(5

2067594*
1⁄ ⁄(

2067824*
1⁄ ⁄(

2067594*
1⁄ ⁄(

20614032*
1ﬁ ﬁ(

20614024*
1ﬁ	 ﬁ(

206140121*
1ﬁ ﬁ(!

20614094*
1ﬂ	 ﬂ(

20616093*
1ﬂ ﬂ(

20614094*
1‡	 ‡(

20616693*
1‡ ‡( 

2062594*
1‚	 ‚(

2063024*
1‚	 ‚(

2062594*
1‚	 ‚(

2067594*
1‰	 ‰(

2067824*
1‰	 ‰(

2067594*
1‰	 ‰(

20614094*
1‰8 ‰(<

20617893*
1‰= ‰(E

211140121*
1Ë Ë(

21114024*
1Ë Ë(

21121424*
1Ë9 Ë(R

21114032*
1È È(

21114024*
1È	 È(

211140121*
1È È(#

2113094*
1È È(#

21121693*
1È$ È(/

2112594*
1È È(#

2113024*
1È È(#

2112594*
1È È(#

2183094*
1Ù Ù(

21822193*
1Ù Ù(1

2182594*
1Ù Ù(

2183024*
1Ù Ù(

2182594*
1Ù Ù(

22322624*
1˜ ˜(

22322624*
1¯ ¯(

2236532*
1˘ ˘(!

2236524*
1˘ ˘(

2236294*
1˘$ ˘(0

2236294*
1˘$ ˘(0

2236594*
1˙ ˙('

22322893*
1˙( ˙(0

22322693*
1˚' ˚(3

2306794*
1Ö Ö(#

2306794*
1Ö Ö(#

2304694*
1á á(

23023393*
1á á(,

2304394*
1á á(

2304624*
1á á(

2304394*
1á á(

2356532*
1å å(

2356524*
1å	 å(

23565121*
1å å('

2356294*
1å å('

2356294*
1å å('

2356594*
1ç) ç(.

23523893*
1ç/ ç(5

23565121*
1é é(

2356294*
1é é(

2356294*
1é é(

2356794*
1è è(

2356794*
1è è(

2357594*
1í	 í(

2357824*
1í	 í(

2357594*
1í	 í(